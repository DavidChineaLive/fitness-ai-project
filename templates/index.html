<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Fitness Coach</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
    
</head>
<body class="light-mode">
    <!-- Navbar with Homepage button and Dark/Light mode toggle -->
    <nav>
        <button onclick="navigateTo('home')">üè† Home</button>
        <button id="theme-toggle" onclick="toggleTheme()">üåû/üåô</button>
    </nav>

    <!-- Homepage content -->
    <div id="home-page" class="page">
        <h1>Welcome to AI Fitness Coach</h1>
        <p>Get feedback on your form, track calories, and enhance your workouts!</p>
        
        <!-- Workout selection buttons -->
        <div class="workout-options">
            <button onclick="navigateTo('weights')">Weights Workout</button>
            <button onclick="navigateTo('bodyweight')">Bodyweight Workout</button>
        </div>
        
        <!-- Calorie Tracker button -->
        <button id="calorie-tracker-btn" onclick="navigateTo('calories')">Calorie Tracker</button>
    </div>

    <!-- Calorie Tracker Page -->
    <div id="calories-page" class="page hidden">
        <h2>Calorie Tracker</h2>
        <table id="calorie-table">
            <tr>
                <th>Meal</th>
                <th>Calories</th>
                <th>Actions</th>
            </tr>
        </table>
        <input type="text" id="meal-input" placeholder="Meal">
        <input type="number" id="calories-input" placeholder="Calories">
        <button onclick="addCalorie()">Add</button>
        <button onclick="clearTable()">Clear Tracker</button>
    </div>

    <!-- Bodywights Workout Page -->
    <div id="bodyweight-page" class="page hidden">
        <h2 id="workout-type">Bodyweight Exercises</h2>
        <button onclick="navigateToExercise('exercise', 'Squats')">Squats</button>
        <button onclick="navigateToExercise('exercise', 'Push-ups')">Push-ups</button>
        <button onclick="navigateToExercise('exercise', 'Pull-ups')">Pull-ups</button>
    </div>

    <!-- Weights Workout Page -->
    <div id="weights-page" class="page hidden">
        <h2 id="workout-type">Weights Exercises</h2>
        <button onclick="navigateToExercise('exercise', 'Bench')">Bench</button>
        <button onclick="navigateToExercise('exercise', 'Barbell Squats')">Barbell Squat</button>
        <button onclick="navigateToExercise('exercise', 'Deadlift')">Deadlift</button>
    </div>

    <div id="exercise-page" class="page hidden">
        <h2 id="exercise-title">[Exercise type]</h2>
        <div id="webcam-container">
            <canvas id="canvas" width="640" height="480"></canvas>
            <video id="video" width="640" height="480" autoplay playsinline></video>
        </div>
        <div id="label-container"></div>
        <button type="button" onclick="init()">Start Workout</button>
        <button type="button" onclick="stopWorkout()">Stop Workout</button>
        <div id="rep-count">[Exercise type] Count: 0</div>
    </div>

    <!-- Required scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-converter"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/pose-detection"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
